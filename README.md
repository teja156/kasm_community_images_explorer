## Kasm Community Images Explorer

Kasm Community Images Explorer is a simple react app that displays all Kasm Images from community-created Kasm registries on GitHub. You can search these images by name, author, or registry and even apply filters to see the most starred or the most recently updated registries.

> **Disclaimer**: The entire frontend was vibe-coded and generated by AI. ðŸ¤–

## How it Works

The CI/CD pipeline powered by GitHub Actions does the following:

- An automation script periodically performs a GitHub search with the search query `in:readme sort:updated -user:kasmtech "KASM-REGISTRY-DISCOVERY-IDENTIFIER"` that lists all the public repos of community created Kasm registries forked from [https://github.com/kasmtech/workspaces_registry_template](https://github.com/kasmtech/workspaces_registry_template)
- The script then parses all workspaces from each found repo
- **Validates image pullability**: Uses `skopeo` to check if Docker images are publicly accessible before including them
- **Filters inappropriate content**: Uses a profanity filter to exclude workspaces with inappropriate names, descriptions, or categories
- Creates a JSON file with all the workspaces information from all found repos, including only validated and appropriate workspaces
- Passes the JSON to the frontend app to populate in UI
- Builds the web app and hosts it using GitHub pages

### Features

- **Search**: Find workspaces by name, author, or registry URL
- **Category Filtering**: Filter by predefined categories or "Other" for uncategorized workspaces (case-insensitive matching)
- **Sorting**: Sort by most stars or most recently updated
- **Image Validation**: Only includes workspaces with publicly pullable Docker images
- **Content Filtering**: Automatically filters out workspaces containing profanity
- **Detailed View**: Click on any workspace to see the raw `workspace.json` data
- **Informational Modals**: Markdown-based modals for welcome message, FAQ, and how-to guides

### Customizing Modal Content

All modal content is stored as markdown files in [`frontend/src/data/markdown/`](frontend/src/data/markdown/):

- **`welcome.md`**: Welcome modal shown on first visit with disclaimer
- **`info.md`**: FAQ modal explaining why workspaces might not be listed
- **`how-to-add-workspace.md`**: Step-by-step guide for adding workspaces to Kasm

To update modal content:
1. Edit the corresponding markdown file in `frontend/src/data/markdown/`
2. Use standard markdown formatting (headers, lists, links, bold, code blocks)
3. Changes will automatically appear in the modals after rebuilding the app

The modals use `react-markdown` for rendering with Tailwind's typography plugin for consistent styling.

### Categories

The category dropdown uses a predefined list of categories stored in [`frontend/src/data/categories.json`](frontend/src/data/categories.json). Categories include common workspace types like:
- Browsers (Chrome, Firefox, etc.)
- Development tools (VS Code, IDEs)
- And more...

Workspaces that don't match any predefined category are automatically assigned to the **"Other"** category. Category matching is case-insensitive, so variations like "browser", "Browser", or "BROWSER" all match the same category.

## Self host?

If you want to self-host this app, there are a few things you need to configure:

### Prerequisites

- A GitHub account
- A GitHub Personal Access Token (PAT) with `repo` scope
- [skopeo](https://github.com/containers/skopeo) installed for image validation

### Setup Steps

1. **Fork this repository**
   ```bash
   # Or clone it
   git clone https://github.com/teja156/kasm_community_images_explorer.git
   cd kasm_community_images_explorer
   ```

2. **Set up GitHub Secrets**
   - Go to your repository â†’ Settings â†’ Secrets and variables â†’ Actions
   - Add a new secret named `GH_PAT` with your GitHub Personal Access Token
   - This is required for the search script to access GitHub's API

3. **Enable GitHub Pages**
   - Go to repository Settings â†’ Pages
   - Source: Deploy from a branch
   - Branch: `gh-pages` / `root`
   - Save

### Running Locally

```bash
# Install Python dependencies
pip install -r requirements.txt

# Run the search script (requires GH_PAT environment variable)
# You can also define the GH_PAT variable in .env file in project root
export GH_PAT=your_github_token
python search_github.py

# Copy generated files to frontend
cp generated/community_workspaces.json frontend/src/data/
cp generated/categories.json frontend/src/data/

# Install and run frontend
cd frontend
npm install
npm run dev


# If you want to build files to host with a web server, do:
npm run build
```


### Workflows

The repository includes two GitHub Actions workflows:

1. **`github-search.yml`** - Runs once every day or manually
   - Installs `skopeo` for Docker image validation
   - Searches GitHub for Kasm registries
   - Validates Docker image pullability
   - Filters content for profanity
   - Generates JSON files with validated workspaces and categories
   - Builds and deploys the frontend

2. **`frontend-deploy.yml`** - Runs on every push to main
   - Builds the frontend
   - Deploys to GitHub Pages
   - Use this for quick frontend updates without running the search


